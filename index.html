<!doctype html>
<html lang="nl">

	<head>
		<meta charset="utf-8">

		<title>Elasticsearch: you know, for search.</title>

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/moon.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<style type="text/css">
		.reveal section img.raw {background: none; border: none; box-shadow: none;}
		.reveal h1.emph {
			color: black;
			text-shadow: 0 0 80px #FFFFFF;
		}
		.reveal table {
			width: 80%;
			margin-left: auto;
			margin-right: auto;
		}

		


		.reveal .schema div.s {
			float: left;
			margin-left: 0.6em;
			margin-right: 0.6em;
		}
		.reveal div.arrow {			
			width: 6em;
			text-align: center;
		}
		.reveal div.arrow p {
			background: transparent url() no-repeat 0 100%;
		}
		.reveal div.buffer {
			border: 1px solid yellow; 
			border-radius: 3px;
			padding: 0.3em 1em;
		}
		.reveal div.buffer > h5 {
			clear: both;
		}
		.reveal div.doc {
			width: 1em; 
			height: 1em; 
    		border-radius: 0.5em;
    		background-color: yellow;
    		text-indent: -9999px;
    		float: left;
    		margin: 0.1em 0.1em;
    		border: 2px solid #002b36
		}
		.reveal .flush div.doc {
			margin-right: -0.6em;
		}
		.reveal div.segment {
			width: 4em;
			border: 1px solid yellow; 
			border-radius: 3px;
			background-color: yellow;				
			padding: 0.3em 1em;	
			margin-top: 1em;	
			border: 2px solid #002b36
		}
		.reveal div.segment > h5 {
			margin: 2px;
			color: black;
		}
		.reveal div.segment2 {
			margin-left: 1.1em !IMPORTANT; 
			margin-top: -1.5em;
		}
		.reveal div.segment3 {
			margin-left: 1.4em !IMPORTANT; 
			margin-top: -1.1em;
		}

		.reveal div.doc ~ .reveal div.flush.visible {
			opacity: 0;
		}

		.reveal div.arrow {
		    width:150px;
		    margin:5px auto;
		}

		.reveal div.line {
		    margin-top:8px;
		    width:120px;
		    background:white;
		    height:4px;
		    float:left;
		}
		.reveal div.point {	
		    width: 0; 
			height: 0; 
			border-top: 10px solid transparent;
			border-bottom: 10px solid transparent;
			border-left: 30px solid white;
		    float:right;
		}
		</style>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<div class="slides">
				<section>
					<h1>Elasticsearch</h1>
					<h4>Distributed full-text search</h4>
					<p>
						<small>Tim Van Laer</small>
					</p>
				</section>

				<section>
					<h2>Agenda</h2>
					<ol>
						<li>Wat is Elasticsearch?</li>
						<li>Iets over Lucene</li>
						<li>Demo: KBCS Research Documents</li>
						<li>Index en Search API</li>
						<li>In productie</li>
					</ol>
				</section>

				<section>
					<h2>Wat is Elasticsearch?</h2>
					<ul>
						<li>Document oriented search engine<br>
							<small>JSON based, Apache Lucene</small></li>
						<li>Schema free</li>
						<li>Distributed<br>
							<small>Scales Up + Out, Highly Available</small></li>
						<li>Multitenancy<br>
							<small>Dynamisch aanmaken en verwijderen van indices</small></li>
						<li>API centric &amp; RESTful</li>
					</ul>
				</section>	

				<section>
					<h2>Wat kan Elasticsearch?</h2>
				</section>

				<section data-background="http://erron.fr/wp-content/uploads/2013/04/wheres-wally-1.jpg" data-background-transition="slide">
					<h1 style="color:black">Zoeken</h1>
					<h2 style="color:black">Gestructureerd en ongestructureerd</h2>
					<aside class="notes">
						<p>Ongestructureerd: Alle documenten met 'goud' in, alle bedrijven die iets doen met grondwater...
						Gestructureerd: Alle bedrijfen opgericht tussen 2010 en 2014, alle nederlandstalige documenten, alle 'turbos'...</p>
					</aside>
				</section>

				<section data-background="http://s3.amazonaws.com/crunchbase_prod_assets/assets/images/original/0018/2843/182843v2.png" data-background-transition="slide">
					<h1>Analyse</h1>
				</section>

				<section data-background="http://artchivebycarteblanche.com/wp-content/uploads/2013/12/Train-Station-Night-Walpaper-HD.jpg" data-background-transition="slide">
					<h1>In near realtime</h1>
					<aside class="notes">
						<p>Near realtime: Bij ES refresh --&gt; buffer geschreven naar Lucene segmenten</p>
					</aside>
				</section>

<!--Lucene-->
				<section>
					<img src="https://drupal.org/files/project-images/lucene_0.png" alt="Lucene" class="raw" />
				</section>

				<section>
					<h2></h2>
				</section>

				<section>
					<h2>Inverted Index</h2>

					<table class="fragment">
					  <tr>
					    <th>Token</th>
					    <th>Doc Freq.</th>
					    <th>Postings <small>Doc Ids</small></th>
					  </tr>
					  <tr>
					    <td>Anthony</td>
					    <td>2</td>
					    <td>1, 2</td>
					  </tr>
					  <tr>
					    <td>Brutus</td>
					    <td>1</td>
					    <td>5</td>
					  </tr>
					  <tr>
					    <td>Caesar</td>
					    <td>2</td>
					    <td>2, 3</td>
					  </tr>
					  <tr>
					    <td>Calpurnia</td>
					    <td>2</td>
					    <td>4, 5</td>
					  </tr>
					</table>
				</section>

				<section>
					<h2 class="fragment current-visible">Indexing</h2>

					<div class="schema">
						<div class="s arrow fragment">
							<p><small>Index a document</small></p>
							<div class="arrow">
								<div class="line"></div>
								<div class="point"></div>
							</div>
						</div>
						<div class="s buffer fragment">
							<h5>Buffer</h5>
							<div class="doc fragment">d</div>	
							<div class="doc fragment">d</div>	
							<div class="doc fragment">d</div>	
						</div>
						<div class="s arrow fragment flush">
							<p><small>Lucene flush</small></p>
							<div class="arrow">
								<div class="line"></div>
								<div class="point"></div>
							</div>
							<div class="doc">d</div>	
							<div class="doc">d</div>	
							<div class="doc">d</div>
						</div>
						<div class="s segment fragment">
							<h5>Segment</h5>
						</div>
						<div class="s segment segment2 fragment">
							<h5>Segment</h5>
						</div>
						<div class="s segment segment3 fragment">
							<h5>Segment</h5>
						</div>
					</div>
				</section>

<!--Demo-->
				<section>
					<h2>Demo: KBCS Research Documents</h2>
						<ol>
							<li>Resultaat</li>
							<li>PDF verwerking</li>
							<li>Mapping</li>
							<li>Zoekopdracht</li>
						</ol>
				</section>

<!--Index en Search-->
				<section>
					<h1>Index en Search API</h1>
				</section>
				

				<section data-background="http://lenergiedavancer.com/wp-content/uploads/2012/02/NynashamnRefineryNight.jpg" data-background-transition="slide">
					<h1 class="emph">In productie</h1>
				</section>



				<section>
					<h2>'Vergeten' features</h2>
					<ul>
						<li>Geolocation support</li>
						<li>Nested fields - Parent/Child documents</li>
						<li>Warmer API</li>
						<li>Percolation API</li>
						<li>Snapshot/Restore</li>
						<li>Geen 'Write Amplification' op SSDs</li>
					</ul>
				</section>















				<section>
					<section data-background="#007777">
						<h2>Slide Backgrounds</h2>
						<p>
							Set <code>data-background="#007777"</code> on a slide to change the full page background to the given color. All CSS color formats are supported.
						</p>
						<a href="#" class="image navigate-down">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png">
						<h2>Image Backgrounds</h2>
						<pre><code>&lt;section data-background="image.png"&gt;</code></pre>
					</section>
					<section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" data-background-repeat="repeat" data-background-size="100px">
						<h2>Repeated Image Backgrounds</h2>
						<pre><code style="word-wrap: break-word;">&lt;section data-background="image.png" data-background-repeat="repeat" data-background-size="100px"&gt;</code></pre>
					</section>
				</section>

				<section data-transition="linear" data-background="#4d7e65" data-background-transition="slide">
					<h2>Background Transitions</h2>
					<p>
						Pass reveal.js the <code>backgroundTransition: 'slide'</code> config argument to make backgrounds slide rather than fade.
					</p>
				</section>

				<section data-transition="linear" data-background="#8c4738" data-background-transition="slide">
					<h2>Background Transition Override</h2>
					<p>
						You can override background transitions per slide by using <code>data-background-transition="slide"</code>.
					</p>
				</section>

				<section>
					<h2>Clever Quotes</h2>
					<p>
						These guys come in two forms, inline: <q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;The nice thing about standards is that there are so many to choose from&rdquo;</q> and block:
					</p>
					<blockquote cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
						&ldquo;For years there has been a theory that millions of monkeys typing at random on millions of typewriters would
						reproduce the entire works of Shakespeare. The Internet has proven this theory to be untrue.&rdquo;
					</blockquote>
				</section>

				<section>
					<h2>Pretty Code</h2>
					<pre><code data-trim contenteditable>
function linkify( selector ) {
  if( supports3DTransforms ) {

    var nodes = document.querySelectorAll( selector );

    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
      var node = nodes[i];

      if( !node.className ) {
        node.className += ' roll';
      }
    }
  }
}
					</code></pre>
					<p>Courtesy of <a href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
				</section>

				<section>
					<h2>Intergalactic Interconnections</h2>
					<p>
						You can link between slides internally,
						<a href="#/2/3">like this</a>.
					</p>
				</section>

				<section>
					<section id="fragments">
						<h2>Fragmented Views</h2>
						<p>Hit the next arrow...</p>
						<p class="fragment">... to step through ...</p>
						<ol>
							<li class="fragment"><code>any type</code></li>
							<li class="fragment"><em>of view</em></li>
							<li class="fragment"><strong>fragments</strong></li>
						</ol>

						<aside class="notes">
							This slide has fragments which are also stepped through in the notes window.
						</aside>
					</section>
					<section>
						<h2>Fragment Styles</h2>
						<p>There's a few styles of fragments, like:</p>
						<p class="fragment grow">grow</p>
						<p class="fragment shrink">shrink</p>
						<p class="fragment roll-in">roll-in</p>
						<p class="fragment fade-out">fade-out</p>
						<p class="fragment highlight-red">highlight-red</p>
						<p class="fragment highlight-green">highlight-green</p>
						<p class="fragment highlight-blue">highlight-blue</p>
						<p class="fragment current-visible">current-visible</p>
						<p class="fragment highlight-current-blue">highlight-current-blue</p>
					</section>
				</section>

				<section>
					<h2>Spectacular image!</h2>
					<a class="image" href="http://lab.hakim.se/meny/" target="_blank">
						<img width="320" height="299" src="http://s3.amazonaws.com/hakim-static/portfolio/images/meny.png" alt="Meny">
					</a>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>
		<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: false,
				progress: false,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

		<script>
			$( document ).ready(function() {
 
 				$(document).keydown(function (e) {
 					if($(".flush.visible").length > 0){
			   			$(".buffer .doc").css({ opacity: 0 });
			   		}
			   		if($(".segment.visible").length > 0){
			   			$(".flush .doc").css({ opacity: 0 });
			   		}
 				});			   
			 
			});
		</script>

	</body>
</html>
